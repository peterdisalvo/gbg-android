<!--
To change this template, choose Tools | Templates
and open the template in the editor.
-->
<!DOCTYPE html>
<html>
    <head>
        <title></title>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    </head>
    <body>
        <div data-theme="a" data-role="page" id="currentDrive">
            <div data-theme="a" data-role="header">
                <h3>
                    Current Drive
                </h3>
            </div>
            <div data-role="content">
                <div class="ui-grid-a">
                    <div class="ui-block-a">
                        <a href="#popupDialog" data-rel="popup" data-role="button"  data-transition="pop" data-theme="a">
                            End Drive
                        </a>
                    </div>
                    <div class="ui-block-b">
                        <a data-role="button" onclick="launchGoogleMapsActivity();">
                            Map
                        </a>
                    </div>
                </div> 

			<!-- POPUP -->
			<div data-role="popup" id="popupDialog" data-overlay-theme="a" data-theme="c" data-dismissible="false" style="max-width:400px;" class="ui-corner-all">
			    <div data-role="header" data-theme="a" class="ui-corner-top">
			        <h1>End Drive?</h1>
			    </div>
			    <div data-role="content" data-theme="d" class="ui-corner-bottom ui-content center">
			        <h2>Are you sure you want to end this drive?</h2> 
	
			        <a data-geolocation="stopWatch" href="driveResults.html" data-role="button" data-inline="true" data-transition="flow" data-theme="a">   Yes</a>
			        <a href="#" data-role="button" data-inline="true" data-rel="back" data-theme="c">No</a>
			    </div>
			</div>   
			<!--End POPUP -->
			
                <ul data-role="listview" data-divider-theme="a" data-inset="true">     
                     <li data-role="list-divider" role="heading">
                        Speed
                    </li>
                    <li data-theme="a">
                            <div class="drive-stat">
                                <img src="img/current-speed.png"/>
                                <span class="label">Current Speed</span>
                                <span class="value"><span id="geolocationCurrentSpeed">0</span> MPH</span> 
                            </div>
                    </li>
                    <li data-theme="a">
                            <div class="drive-stat">
                                <img src="img/max-speed.png"/>
                                <span class="label"> Max Speed</span>
                                <span class="value"><span id="geolocationMaxSpeed">0</span> MPH</span> 
                            </div>
                    </li>
                 </ul>
                 
                 <ul data-role="listview" data-divider-theme="a" data-inset="true">     
                     <li data-role="list-divider" role="heading">
                        Safety
                    </li>
                    <li data-theme="a">
                            <div class="drive-stat">
                                <img src="img/rapid-accel.png"/>
                                <span class="label">Rapid Accel Count</span>
                                <span class="value">5</span> 
                            </div>
                    </li>
                     <li data-theme="a">
                            <div class="drive-stat">
                                <img src="img/speeding-time.png"/>
                                <span class="label">Speeding Time</span>
                                <span class="value">0 Minutes</span> 
                            </div>
                    </li>
                 </ul>
                 
                 <ul data-role="listview" data-divider-theme="a" data-inset="true">     
                    <li data-role="list-divider" role="heading">
                        Efficency
                    </li>
                     <li data-theme="a">
                            <div class="drive-stat">
                                <img src="img/trip-time.png"/>
                                <span class="label"> Trip Time</span>
                                <span class="value"><span id="geolocationTripTime">0</span> minutes</span> 
                            </div>
                    </li>
                     <li data-theme="a">
                            <div class="drive-stat">
                                <img src="img/distance-travelled.png"/>
                                <span class="label"> Distanced Traveled</span>
                                <span class="value">29 miles</span> 
                            </div>
                    </li>
                     <li data-theme="a">
                            <div class="drive-stat">
                                <img src="img/fuel-efficiency.png"/>
                                <span class="label">Fuel Efficiency</span>
                                <span class="value">35 MPG</span> 
                            </div>
                    </li>
                     <li data-theme="a">
                            <div class="drive-stat">
                                <img src="img/fuel-consumed.png"/>
                                <span class="label"> Fuel Consumed</span>
                                <span class="value">.75 gals</span> 
                            </div>
                    </li>
                </ul>

            </div>

			<script type="text/javascript">

				document.addEventListener("backbutton", function(){
					console.log("Back button selected");
					$.mobile.changePage('endDriveDialog.html', {transition: 'pop', role: 'dialog'}); 
				 },true);
	
	            function launchGoogleMapsActivity() {
	            	var success = function(geoname) {
	                    console.log(JSON.stringify(geoname));
	                };
	                var fail = function(error) {
	                    console.log(error);
	                };
	                GMPlugin.startGM();
	            }
	        </script>
        </div>
    </body>
</html>
